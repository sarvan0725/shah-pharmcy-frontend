// Zomato-style Overflow Menu Functions

function toggleOverflowMenu() {\n  const overlay = document.getElementById('overflowMenuOverlay');\n  const panel = document.getElementById('overflowMenuPanel');\n  \n  if (panel.classList.contains('show')) {\n    closeOverflowMenu();\n  } else {\n    openOverflowMenu();\n  }\n}\n\nfunction openOverflowMenu() {\n  const overlay = document.getElementById('overflowMenuOverlay');\n  const panel = document.getElementById('overflowMenuPanel');\n  \n  overlay.classList.add('show');\n  panel.classList.add('show');\n  \n  // Prevent body scroll\n  document.body.style.overflow = 'hidden';\n  \n  // Update user info if logged in\n  updateOverflowUserInfo();\n}\n\nfunction closeOverflowMenu() {\n  const overlay = document.getElementById('overflowMenuOverlay');\n  const panel = document.getElementById('overflowMenuPanel');\n  \n  overlay.classList.remove('show');\n  panel.classList.remove('show');\n  \n  // Restore body scroll\n  document.body.style.overflow = 'auto';\n}\n\nfunction updateOverflowUserInfo() {\n  const user = getCurrentUser();\n  const nameElement = document.getElementById('overflowUserName');\n  const phoneElement = document.getElementById('overflowUserPhone');\n  const editBtn = document.getElementById('overflowEditBtn');\n  const logoutSection = document.getElementById('overflowLogoutSection');\n  \n  if (user) {\n    nameElement.textContent = user.name || 'User';\n    phoneElement.textContent = user.phone || 'No phone number';\n    editBtn.innerHTML = '<i class=\"fas fa-edit\"></i>';\n    editBtn.onclick = () => { showEditProfile(); closeOverflowMenu(); };\n    logoutSection.style.display = 'block';\n  } else {\n    nameElement.textContent = 'Guest User';\n    phoneElement.textContent = 'Not logged in';\n    editBtn.innerHTML = '<i class=\"fas fa-sign-in-alt\"></i>';\n    editBtn.onclick = () => { showLogin(); closeOverflowMenu(); };\n    logoutSection.style.display = 'none';\n  }\n}\n\n// Menu item functions\nfunction showAddressBook() {\n  alert('Address Book feature coming soon!');\n}\n\nfunction showWallet() {\n  alert('Wallet & Coins feature coming soon!');\n}\n\nfunction showCoupons() {\n  alert('Coupons & Offers feature coming soon!');\n}\n\nfunction showEditProfile() {\n  alert('Edit Profile feature coming soon!');\n}\n\n// Close menu on escape key\ndocument.addEventListener('keydown', function(event) {\n  if (event.key === 'Escape') {\n    closeOverflowMenu();\n  }\n});\n\n// Close menu on back button (mobile)\nwindow.addEventListener('popstate', function(event) {\n  const panel = document.getElementById('overflowMenuPanel');\n  if (panel.classList.contains('show')) {\n    closeOverflowMenu();\n    history.pushState(null, null, window.location.href);\n  }\n});\n\n// Add history state when menu opens\nfunction openOverflowMenu() {\n  const overlay = document.getElementById('overflowMenuOverlay');\n  const panel = document.getElementById('overflowMenuPanel');\n  \n  overlay.classList.add('show');\n  panel.classList.add('show');\n  document.body.style.overflow = 'hidden';\n  \n  // Add to history for back button support\n  history.pushState({ menuOpen: true }, null, window.location.href);\n  \n  updateOverflowUserInfo();\n}